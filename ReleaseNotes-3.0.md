Release Notes for Truchas 3.0.1 (4/25/2018)
-------------------------------------------

Back-ported some fixes on the main development branch that allow building
with contemporary cpp versions and the NAG 6.1 compiler.

This version builds with the newer Intel 17 and 18, and NAG 6.1 compilers,
in addition to the older compilers supported by 3.0, though it has not been
thoroughly tested with the newer compilers.


Release Notes for Truchas 3.0
-----------------------------

* Truchas 3.0 marks the first release under the 3-clause BSD license; see the
  `LICENSE.md` file for details. Previous versions had been released under
  the GPL license.

* Compilers.  This release requires newer compiler versions than Truchas 2.8.
  The NAG 6.0 and Intel 15 and 16 compilers are supported.  GFortran still
  lags in its support for some modern Fortran features and is not supported.
  Other compilers may work, for example Cray's and IBM's, but they have not
  been tested.

* Support for mixed element meshes. The heat transfer/species diffusion physics
  kernel now supports mixed element meshes comprising tets, pyramids, prisms,
  and hexes.  This includes enclosure radiation on associated surface meshes
  comprising triangles and quads generated by the RadE tool suite.  Note that
  flow and solid mechanics have in principle supported mixed element meshes all
  along, although that capability has gone essentially unused and untested
  because of an inability to generate such meshes with Cubit until now.  Thus
  one may encounter issues with when using those physics on such meshes.  One
  known problem is that the mapping between EM tet mesh and main Truchas mesh
  is broken for pyramid elements.

* Accompanying the mixed element mesh support is a new and improved numerical
  scheme for defining the local element mass matrix in the mimetic finite
  difference discretization used by the heat transfer/species diffusion kernel.
  One should expect to see small differences in results from otherwise identical
  simulations with earlier Truchas versions.

* Preliminary support for simulation phases.  Simulations sometimes include
  times when boundary conditions or sources turn on/off abruptly.  This
  impulsive forcing can cause significant difficulties in the time stepping,
  especially for heat transfer/species diffusion.  What is generally desired
  is to hit such a time precisely with a time step (and not step over them)
  and then continue as if starting a new phase of the simulation.  Basic
  support for accomplishing has been implemented; see the SIMULATION_CONTROL
  namelist for details.

* The arcane method for prescribing a non-constant initial temperature profile
  in a region (the BODY namelist TG_ variables) has been replaced by the
  Temperature_Function variable which points to a FUNCTION namelist, and so
  uses the same method for specifying functions as used elsewhere in the input.

* A time-dependent velocity boundary condition can now be specified using the
  new BC_Table variable of the BC namelist; see the Reference Manual.

* The consistent initial state is now being calculated in the heat transfer/
  species diffusion solver.  The mimetic finite difference discretization
  includes auxiliary face-centered degrees of freedom that are algebraically
  coupled to the physical cell-centered degrees of freedom.  Previously the
  initial values for the algebraic degrees of freedom were cheaply approximated
  in terms of the given initial values for the cell-centered ones.  This often
  caused significant problems for the first few time steps, especially when
  restarting simulations where the initial conditions were not uniform.  This
  issue should now be resolved now that the initial state of the algebraic
  degrees of freedom are being solved for exactly.

* Truchas is now using the official public ExodusII library to read the mesh
  file.  This should make reading meshes more robust.

* Previously experimental, the output post-processer `xdmf-parser.py` has been
  updated and is now the recommended tool for generating visualization output.
  It produces an XDMF header file (plaintext XML) for the HDF output file that
  Paraview and otherwise visualization tools can read.

* As part of the on-going effort to renovate and modernize the code base, some
  little used and insignificant features have been removed.  This includes the
  2-level preconditioner and "long edit" terminal output.
