INVISCID PIPE FLOW WITH SOLID WALLS
-----------------------------------
Simple inviscid flow through a pipe of length L. Constant pressure p1 at
one end, p2 at the other. Free slip BC along the walls of the pipe. Fluid
accelerates from rest with uniform speed U(t) = [(p2-p1)/(rho*L)]*t.
Domain includes solid material which form the walls (all cells are single
material), and which should not participate in the simulation. 

p1 = 6, p2 = 0, rho = 3, L = 1 => U(t) = 2*t

&MESH
  mesh_file = 'mesh2a-roty.gen'
/

&OUTPUTS
  output_t = 0.0, 0.05, 1.0
  output_dt = 1.0, 1.0
/

&PHYSICS
  materials = 'water', 'wall'
  legacy_flow = .true.
/

&NUMERICS
  dt_init = 0.03125
  dt_grow = 1.25
  dt_min  = 1.0e-5
  dt_max  = 1.0
/

&LEGACY_FLOW
  inviscid = .true.
  courant_number = 0.3
  projection_linear_solution  = 'projection'
  viscous_linear_solution = 'viscous'
  viscous_number = 0.3
  viscous_implicitness = 0.5
/

&LINEAR_SOLVER
  name                   = 'projection'
  method                 = 'fgmres'
  preconditioning_method = 'ssor'
  preconditioning_steps  = 2
  relaxation_parameter   = 1.4
  convergence_criterion  = 1.0e-12
/

&LINEAR_SOLVER
  name                   = 'viscous'
  method                 = 'fgmres'
  convergence_criterion  = 1.0e-8
  preconditioning_method = 'diagonal'
  stopping_criterion     = '||r||/||b||'
/

Inlet pressure
&BC
  surface_name = 'from mesh file'
  mesh_surface = 1
  bc_variable  = 'pressure'
  bc_type      = 'dirichlet'
  bc_value     = 6.0
/

Outlet pressure
&BC
  surface_name = 'from mesh file'
  mesh_surface = 2
  bc_variable  = 'pressure'
  bc_type      = 'dirichlet'
  bc_value     = 0.0
/

&BODY
  surface_name = 'from mesh file'
  mesh_material_number = 1
  material_name = 'water'
  velocity = 3*0.0
  temperature = 0.0
/

&BODY
  surface_name = 'from mesh file'
  mesh_material_number = 2
  material_name = 'wall'
  temperature = 0.0
/

&MATERIAL
  name = 'water'
  is_fluid = T
  density = 3.0
  specific_heat = 1.0
  viscosity = 1.0
/

&MATERIAL
  name = 'wall'
  density = 1.0
  specific_heat = 1.0
/
