STEADY INVISCID 2-MATERIAL FLOW
-------------------------------
2D square domain (1 cell thick in z) with steady uniform flow directed along
the x-axis. Prescribed inflow velocity on the left and dirichlet pressure on
the right. Two equal-density fluids with planar interface orthogonal to the
x-axis. Constant initial velocity field consistent with the BC. Velocity
should remain constant and the fluid interface should be advected exactly
across the domain.

This problem is analogous to a pure advection problem, except that instead
of a prescribed constant velocity, we solve for the velocity, expecting to
recovery that constant velocity.

Variations use rotated meshes (and rotated velocity)

&OUTPUTS
  output_t  = 0.0, .0625, 2.0
  output_dt = 0.0625, 2.0
/

A kludge to force hitting the final time exactly
&SIMULATION_CONTROL
  phase_start_times = 2.0
  phase_init_dt_factor = 1.0
/

&MESH
  mesh_file = 'mesh1a-rotx.gen'
/

&PHYSICS
  legacy_flow = .true.
  inviscid = .true.
/

&NUMERICS
  dt_constant = 0.0625
  courant_number = 0.5
  projection_linear_solution  = 'projection'
  volume_track_subcycles = 2
  discrete_ops_type = 'ortho'
/

&LINEAR_SOLVER
  name                   = 'projection'
  method                 = 'fgmres'
  preconditioning_method = 'ssor'
  preconditioning_steps  = 2
  relaxation_parameter   = 1.4
  convergence_criterion  = 1.0e-10
  maximum_iterations     = 50
/

Inlet velocity
&BC
  surface_name = 'from mesh file'
  mesh_surface = 1
  bc_variable  = 'velocity'
  bc_type      = 'dirichlet'
  bc_value     = 4.0, 0.0, 0.0
/

Outlet pressure
&BC
  surface_name = 'from mesh file'
  mesh_surface = 2
  bc_variable  = 'pressure'
  bc_type      = 'dirichlet'
  bc_value     = 0.0
/

&BODY
  surface_name = 'plane'
  axis = 'x'
  translation_pt = -4.0, 0.0, 0.0
  material_number = 2
  velocity = 4.0, 0.0, 0.0
  temperature = 0.0
/

&INTERFACES
  vof_method = 'divide'
  vof_tolerance = 1.0e-2
/

&BODY
  surface_name = 'background'
  material_number = 1
  velocity = 4.0, 0.0, 0.0
  temperature = 0.0
/

&MATERIAL
  material_name = 'water'
  material_number = 1
  density = 1.0 ! not void
  material_feature = 'background'
 /

&PHASE
  name = 'water'
  property_name(1) = 'density', property_constant(1) = 1.0
/

&MATERIAL_SYSTEM
  name = 'water'
  phases = 'water'
/

&MATERIAL
  material_name = 'oil'
  material_number = 2
  density = 1.0 ! not void
 /

&PHASE
  name = 'oil'
  property_name(1) = 'density', property_constant(1) = 1.0
/

&MATERIAL_SYSTEM
  name = 'oil'
  phases = 'oil'
/
